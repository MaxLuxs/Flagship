<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIGRATION GUIDE - Flagship</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: #1a1a1a;
            background: #ffffff;
        }

        .header {
            background: #f7f7f7;
            border-bottom: 1px solid #e0e0e0;
            padding: 20px 0;
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo { width: 40px; height: 40px; }

        .header-title {
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            text-decoration: none;
        }

        .header-title:hover { color: #00d687; }

        .back-link {
            margin-left: auto;
            color: #666;
            text-decoration: none;
            font-size: 14px;
        }

        .back-link:hover { color: #00d687; }

        .content {
            max-width: 900px;
            margin: 60px auto;
            padding: 0 40px;
        }

        h1 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #1a1a1a;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        h2 {
            font-size: 32px;
            font-weight: 600;
            margin: 50px 0 20px;
            color: #1a1a1a;
        }

        h3 {
            font-size: 24px;
            font-weight: 600;
            margin: 40px 0 16px;
            color: #1a1a1a;
        }

        h4 {
            font-size: 18px;
            font-weight: 600;
            margin: 30px 0 12px;
            color: #333;
        }

        p {
            margin: 16px 0;
            color: #333;
        }

        a {
            color: #00d687;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        code {
            background: #f7f7f7;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 14px;
            color: #ef7200;
        }

        pre {
            background: #f7f7f7;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: #1a1a1a;
            font-size: 14px;
            line-height: 1.6;
        }

        ul, ol {
            margin: 16px 0 16px 30px;
        }

        li {
            margin: 8px 0;
        }

        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 60px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #e0e0e0;
            padding: 12px;
            text-align: left;
        }

        th {
            background: #f7f7f7;
            font-weight: 600;
        }

        blockquote {
            border-left: 3px solid #00d687;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        footer {
            max-width: 900px;
            margin: 80px auto 40px;
            padding: 40px 40px 0;
            border-top: 1px solid #e0e0e0;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        footer a {
            color: #00d687;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .content, .header-content, footer {
                padding-left: 20px;
                padding-right: 20px;
            }

            h1 { font-size: 32px; }
            h2 { font-size: 26px; }
            h3 { font-size: 20px; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <img src="images/flagship_icon.svg" alt="Flagship Logo" class="logo">
            <a href="index.html" class="header-title">Flagship</a>
            <a href="index.html" class="back-link">‚Üê Back to Documentation</a>
        </div>
    </header>
    <div class="content">
<p><p align="center"></p>
<p><img src="images/flagship_icon.svg" width="120" height="120" alt="Flagship Logo"></p>
<p></p></p>

<p><h1 align="center">üîÑ Migration Guide</h1></p>

<p>Guide for migrating from other solutions to Flagship.</p>

<hr />

<h2>üìã Table of Contents</h2>

<p>1. <a href="#migration-from-firebase-remote-config">Migration from Firebase Remote Config</a></p>
<p>2. <a href="#migration-from-launchdarkly">Migration from LaunchDarkly</a></p>
<p>3. <a href="#migration-from-splitio">Migration from Split.io</a></p>
<p>4. <a href="#migration-from-custom-solution">Migration from Custom Solution</a></p>

<hr />

<h2>Migration from Firebase Remote Config</h2>

<h3>Before (Pure Firebase)</h3>

<pre><code class="language-kotlin">// Initialization
val remoteConfig = Firebase.remoteConfig
remoteConfig.setConfigSettingsAsync(
    remoteConfigSettings {
        minimumFetchIntervalInSeconds = 3600
    }
)

// Get values
val newFeatureEnabled = remoteConfig.getBoolean(&quot;new_feature&quot;)
val apiTimeout = remoteConfig.getLong(&quot;api_timeout&quot;).toInt()

// Fetch
remoteConfig.fetchAndActivate().addOnCompleteListener { task -&gt;
    if (task.isSuccessful) {
        // Updated
    }
}
</code></pre>

<h3>After (Flagship + Firebase Provider)</h3>

<pre><code class="language-kotlin">// Initialization
val config = FlagsConfig(
    appKey = &quot;my-app&quot;,
    environment = &quot;production&quot;,
    providers = listOf(
        FirebaseRemoteConfigProvider(
            remoteConfig = Firebase.remoteConfig,
            fetchIntervalSeconds = 3600
        )
    ),
    cache = PersistentCache(FlagsSerializer())
)
Flags.configure(config)

// Get values (suspend functions - use in coroutine scope)
val manager = Flags.manager()
lifecycleScope.launch {
    val newFeatureEnabled = manager.isEnabled(&quot;new_feature&quot;)
    val apiTimeout: Int = manager.value(&quot;api_timeout&quot;, default = 5000)
}

// Fetch (automatic with coroutines)
lifecycleScope.launch {
    manager.refresh()
}
</code></pre>

<h3>Benefits</h3>

<p>‚úÖ <strong>Type-safe API</strong> - no manual type casting</p>
<p>‚úÖ <strong>Kotlin Coroutines</strong> - instead of callbacks</p>
<p>‚úÖ <strong>Offline-first</strong> - automatic caching</p>
<p>‚úÖ <strong>Multi-provider</strong> - add REST fallback</p>
<p>‚úÖ <strong>A/B Testing</strong> - built-in experiment support</p>

<hr />

<h2>Migration from LaunchDarkly</h2>

<h3>Before (LaunchDarkly)</h3>

<pre><code class="language-kotlin">val client = LDClient.init(application, ldConfig, ldUser)

// Feature flag
val showNewUI = client.boolVariation(&quot;show-new-ui&quot;, false)

// Experiment
val buttonColor = client.stringVariation(&quot;button-color-test&quot;, &quot;blue&quot;)
</code></pre>

<h3>After (Flagship)</h3>

<pre><code class="language-kotlin">// Initialization
val config = FlagsConfig(
    appKey = &quot;my-app&quot;,
    environment = &quot;production&quot;,
    providers = listOf(
        RestFlagsProvider(httpClient, &quot;https://your-backend.com/flags&quot;)
    ),
    cache = PersistentCache(FlagsSerializer())
)
Flags.configure(config)

// Feature flag
val manager = Flags.manager()
// Note: All flag access methods are suspend functions
lifecycleScope.launch {
    val showNewUI = manager.isEnabled(&quot;show-new-ui&quot;)
    
    // Experiment
    val assignment = manager.assign(&quot;button-color-test&quot;)
    val buttonColor = assignment?.payload[&quot;color&quot;]?.jsonPrimitive?.content ?: &quot;blue&quot;
}
</code></pre>

<hr />

<h2>Migration from Split.io</h2>

<h3>Before (Split.io)</h3>

<pre><code class="language-kotlin">val factory = SplitFactoryBuilder.build(&quot;YOUR_SDK_KEY&quot;, applicationContext)
val client = factory.client()

// Feature flag
val treatment = client.getTreatment(&quot;user123&quot;, &quot;new_checkout&quot;)
if (treatment == &quot;on&quot;) {
    // Show new checkout
}
</code></pre>

<h3>After (Flagship)</h3>

<pre><code class="language-kotlin">val config = FlagsConfig(
    appKey = &quot;my-app&quot;,
    environment = &quot;production&quot;,
    providers = listOf(
        RestFlagsProvider(httpClient, &quot;https://your-backend.com/flags&quot;)
    ),
    cache = PersistentCache(FlagsSerializer())
)
Flags.configure(config)

val manager = Flags.manager()
val ctx = EvalContext(userId = &quot;user123&quot;)

// Feature flag
// Note: isEnabled is a suspend function
lifecycleScope.launch {
    if (manager.isEnabled(&quot;new_checkout&quot;)) {
        // Show new checkout
    }
}
</code></pre>

<hr />

<h2>Migration from Custom Solution</h2>

<h3>Before (Custom SharedPreferences)</h3>

<pre><code class="language-kotlin">val prefs = context.getSharedPreferences(&quot;feature_flags&quot;, Context.MODE_PRIVATE)

fun isFeatureEnabled(key: String): Boolean {
    return prefs.getBoolean(key, false)
}

fun updateFlags() {
    // Manual API call
    apiService.getFlags().enqueue(object : Callback&lt;FlagsResponse&gt; {
        override fun onResponse(call: Call&lt;FlagsResponse&gt;, response: Response&lt;FlagsResponse&gt;) {
            response.body()?.let { flags -&gt;
                prefs.edit {
                    flags.features.forEach { (key, value) -&gt;
                        putBoolean(key, value)
                    }
                }
            }
        }
        
        override fun onFailure(call: Call&lt;FlagsResponse&gt;, t: Throwable) {
            // Handle error
        }
    })
}
</code></pre>

<h3>After (Flagship)</h3>

<pre><code class="language-kotlin">// One-time setup
val config = FlagsConfig(
    appKey = &quot;my-app&quot;,
    environment = &quot;production&quot;,
    providers = listOf(
        RestFlagsProvider(httpClient, &quot;https://your-backend.com/flags&quot;)
    ),
    cache = PersistentCache(FlagsSerializer()) // Automatic cache
)
Flags.configure(config)

// Use everywhere
val manager = Flags.manager()

// Note: isEnabled is a suspend function - make the function suspend too
suspend fun isFeatureEnabled(key: String): Boolean {
    return manager.isEnabled(key)
}

// Update is automatic based on TTL, or manually:
suspend fun updateFlags() {
    manager.refresh()
}
</code></pre>

<h3>Benefits</h3>

<p>‚úÖ <strong>Less code</strong> - no manual SharedPreferences management</p>
<p>‚úÖ <strong>Type-safe</strong> - automatic type checking</p>
<p>‚úÖ <strong>Coroutines</strong> - modern async approach</p>
<p>‚úÖ <strong>TTL</strong> - automatic scheduled updates</p>
<p>‚úÖ <strong>Multi-provider</strong> - easy to add Firebase/other sources</p>
<p>‚úÖ <strong>A/B Testing</strong> - built-in experiment support</p>

<hr />

<h2>Step-by-Step Migration</h2>

<h3>Step 1: Add Flagship in Parallel</h3>

<p>Don't remove the old solution immediately! Use both in parallel:</p>

<pre><code class="language-kotlin">// Old
val oldFlag = remoteConfig.getBoolean(&quot;new_feature&quot;)

// New (Flagship)
val newFlag = Flags.manager().isEnabled(&quot;new_feature&quot;)

// Use new flag, fallback to old if needed
val featureEnabled = if (flagshipInitialized) newFlag else oldFlag
</code></pre>

<h3>Step 2: Switch Flags Gradually</h3>

<pre><code class="language-kotlin">// Week 1: 10% users
if (userId.hashCode() % 100 &lt; 10) {
    useFlagship = true
}

// Week 2: 50% users
if (userId.hashCode() % 100 &lt; 50) {
    useFlagship = true
}

// Week 3: 100% users
useFlagship = true
</code></pre>

<h3>Step 3: Monitor Errors</h3>

<pre><code class="language-kotlin">val config = FlagsConfig(
    // ...
    logger = object : FlagsLogger {
        override fun log(level: LogLevel, message: String, error: Throwable?) {
            // Send to Crashlytics/Sentry
            if (level == LogLevel.ERROR) {
                Crashlytics.getInstance().recordException(error ?: Exception(message))
            }
        }
    }
)
</code></pre>

<h3>Step 4: Remove Old Code</h3>

<p>After successful migration (2-4 weeks):</p>
<p>1. Remove old SDK dependencies</p>
<p>2. Remove old solution code</p>
<p>3. Update documentation</p>

<hr />

<p><p align="center"></p>
<p><b>Need migration help? Create an Issue on <a href="https://github.com/maxluxs/Flagship/issues">GitHub</a>!</b></p>
<p></p></p>


    </div>
    <footer>
        <p>Made with ‚ù§Ô∏è by <a href="https://github.com/maxluxs" target="_blank">@maxluxs</a> ‚Ä¢ Licensed under MIT</p>
    </footer>
</body>
</html>