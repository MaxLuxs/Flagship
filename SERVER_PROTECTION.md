# –ó–∞—â–∏—Ç–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è —Å–µ—Ä–≤–µ—Ä–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω **Git pre-push hook**, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –º–æ–¥—É–ª—è `flagship-server` –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## üõ°Ô∏è –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

Hook –±–ª–æ–∫–∏—Ä—É–µ—Ç push —Å–ª–µ–¥—É—é—â–∏—Ö –ø—É—Ç–µ–π:

- ‚úÖ `flagship-server/` - –≤–µ—Å—å –º–æ–¥—É–ª—å —Å–µ—Ä–≤–µ—Ä–∞ (–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π)
- ‚úÖ `flagship-admin-ui-compose/` - –º–æ–¥—É–ª—å –∞–¥–º–∏–Ω–∫–∏ (–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π)
- ‚úÖ `flagship-shared/` - –æ–±—â–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∞–¥–º–∏–Ω–∫–∏ (–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π)
- ‚úÖ `.github/workflows/deploy.yml` - workflow –¥–ª—è –¥–µ–ø–ª–æ—è —Å–µ—Ä–≤–µ—Ä–∞ (—É–¥–∞–ª–µ–Ω)
- ‚úÖ `docker-compose.yml` - Docker Compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ `docker-compose.prod.yml` - Docker Compose –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ `.env` - —Ñ–∞–π–ª—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `.env.local` - –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `.env.production` - –ø—Ä–æ–¥–∞–∫—à–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- ‚úÖ `.env.*.local` - –ª—é–±—ã–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ .env —Ñ–∞–π–ª—ã

## üìù –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `git push`, hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã. –ï—Å–ª–∏ —Å—Ä–µ–¥–∏ –Ω–∏—Ö –µ—Å—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π, push **–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è** —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

### –ü—Ä–∏–º–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:

```bash
$ git push origin main

‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  BLOCKED: Commercial Server Module Detected              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

The following protected files/modules are being pushed:

  ‚úó flagship-server/src/main/kotlin/Application.kt
  ‚úó flagship-server/README.md

Reason: flagship-server is a commercial module and should not be
       pushed to public repositories.

To push these files:
  1. Use a private repository (GitHub Pro/Team)
  2. Or use --no-verify flag (NOT RECOMMENDED)

Push blocked.
```

## üîì –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (GitHub Pro/Team) –∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
# –í–ù–ò–ú–ê–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤!
git push --no-verify origin main
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –§–ª–∞–≥ `--no-verify` –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ hooks. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π.

## üìÇ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ —Ñ–∞–π–ª—ã

–í—Å–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã hook'–æ–º:

### –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏:
- `flagship-server/` - –≤–µ—Å—å –º–æ–¥—É–ª—å —Å–µ—Ä–≤–µ—Ä–∞
  - `flagship-server/DEPLOYMENT.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
  - `flagship-server/QUICK_DEPLOY.md` - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
  - `flagship-server/fly.toml.example` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Fly.io
  - `flagship-server/Procfile` - –¥–ª—è Heroku
- `flagship-admin-ui-compose/` - –º–æ–¥—É–ª—å –∞–¥–º–∏–Ω–∫–∏
- `flagship-shared/` - –æ–±—â–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∞–¥–º–∏–Ω–∫–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `docker-compose.yml` - Docker Compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `docker-compose.prod.yml` - Docker Compose –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `.env*` - –≤—Å–µ —Ñ–∞–π–ª—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–≠—Ç–∏ —Ñ–∞–π–ª—ã –∏ –º–æ–¥—É–ª–∏ **–Ω–µ –ø–æ–ø–∞–¥—É—Ç** –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–ª–∞–≥–æ–¥–∞—Ä—è hook'—É.

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ hook'–æ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ hook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
ls -l .git/hooks/pre-push
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rwxr-xr-x
```

### –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å hook
mv .git/hooks/pre-push .git/hooks/pre-push.disabled

# –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
mv .git/hooks/pre-push.disabled .git/hooks/pre-push
chmod +x .git/hooks/pre-push
```

### –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

```bash
# –£–¥–∞–ª–∏—Ç—å hook (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
rm .git/hooks/pre-push
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. `.git/hooks/README.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ hook'–∞.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

Hook —É–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª—é–±—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –∏–∑ `flagship-server/` –≤ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Hook –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.git/hooks/`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å hook –ª–æ–∫–∞–ª—å–Ω–æ. –î–ª—è –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

